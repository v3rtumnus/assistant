# Spring Application
spring.application.name=local-ai-assistant

# H2 Database Configuration
spring.datasource.url=jdbc:h2:file:./data/assistant;AUTO_SERVER=TRUE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 Console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JPA/Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# Caching (configured programmatically in CacheConfig.java)

# OpenAI Configuration (cloud-only with anonymization for privacy)
spring.ai.openai.api-key=${OPENAI_API_KEY:your-api-key-here}
spring.ai.openai.chat.options.model=gpt-4o-mini

# Thymeleaf
spring.thymeleaf.cache=false

# Server
server.port=8080
server.error.include-message=always
server.error.include-binding-errors=always

# Actuator
management.endpoints.web.exposure.include=health,info,metrics,prometheus,env,caches
management.endpoint.health.show-details=always
management.prometheus.metrics.export.enabled=true
management.tracing.sampling.probability=1.0

# SpringDoc OpenAPI
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true

# Assistant Configuration
assistant.planner.max-steps=5
assistant.conversation.max-history=10
assistant.system-prompt=You are a helpful assistant. Be concise - respond in 1-3 sentences unless more detail is explicitly requested. For weather forecasts, news, general knowledge, or web searches, use Brave Search. Use Home Assistant tools only for controlling smart home devices or checking specific home sensor states.

assistant.mcp.servers[0].name=brave-search
assistant.mcp.servers[0].type=stdio
assistant.mcp.servers[0].command=npx
assistant.mcp.servers[0].args[0]=-y
assistant.mcp.servers[0].args[1]=@modelcontextprotocol/server-brave-search
assistant.mcp.servers[0].env.BRAVE_API_KEY=${BRAVE_API_KEY}

assistant.mcp.servers[1].name=home-assistant
assistant.mcp.servers[1].type=stdio
assistant.mcp.servers[1].command=mcp-proxy
assistant.mcp.servers[1].args[0]=-H
assistant.mcp.servers[1].args[1]=Authorization
assistant.mcp.servers[1].args[2]=Bearer ${HA_TOKEN}
assistant.mcp.servers[1].args[3]=${HA_URL}

# Logging
logging.level.at.altenburger.assistant=INFO
logging.level.at.altenburger.assistant.infrastructure.mcp=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
